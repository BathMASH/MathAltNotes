%% DO NOT EDIT THIS FILE IF YOU DO NOT KNOW WHAT YOU ARE DOING
%% http://www.tex.ac.uk/FAQ-multidoc.html
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% We need to be able to change the font size, paper
%% size and the class. We take the defaults from the
%% lecturer's documentclass command and provide them
%% as defaults
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\providecommand{\pointsize}{12pt}
\providecommand{\papersize}{a4paper}
\providecommand{\class}{article}
\providecommand{\beamerslides}{}
\providecommand{\beamerhandout}{}
\documentclass[\pointsize,\papersize,\beamerhandout]{\class}
%% https://tex.stackexchange.com/questions/95701/syntax-error-when-using-tex4ht-on-latex-file-that-uses-the-standalone-package
%% http://tug.org/pipermail/tex4ht/2016q1/001343.html
%\usepackage[subpreambles=true,obeyclassoptions=false]{standalone}
%\usepackage{docmute}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Babel package to specify English typographical 
%% rules, and hyphenation patterns
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[english]{babel}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% T1 font encoding to ensure characters with accents 
%% and other non-ascii characters can be correctly 
%% searched, copied and pasted in the PDF output. Also 
%% enables hyphenation of words containing letters 
%% with accents.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[T1]{fontenc}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% This is the master for 3 document formats.
%% We DO NOT support compiling via latex-dvips-ps2pdf. 
%% If you wish to use diagrams which rely on this 
%% then these should be produced as standalone figures 
%% in PDF and svg formats and included in the LaTeX
%% via the graphicx package.
%%
%% Standard print: Compiled via pdflatex. You can 
%% style how you provided you can compile the other
%% formats.
%% 
%% Clearprint: Compiled via pdflatex. 
%%
%% Accessible web pages via TeX4ht with MathJax
%% as the renderer: for zoom, magnification, text to 
%% speech (TextHelp Read & Write), screenreaders 
%% (NVDA, JAWS 16+, ChromeVox, other Aria aware), 
%% electronic braille (NVDA), also good on small 
%% screens. 
\usepackage{etoolbox}
\newtoggle{clearprint}
\newtoggle{large}
\newtoggle{web}
\newtoggle{figures}
\newtoggle{frontmatter}
\newtoggle{contents}
%% The below uses the make file to determine which 
%% format to compile. Please note that compilation 
%% requires a post-2009 version of etoolbox and, for 
%% the web format, a working copy of TeX4ht. 
%% Using the makefile is the recommended compilation 
%% method as this will produce a single zip containing
%% the web format for you. 
\input{toggle.tex}
\input{choices.tex}
%% If you are NOT using the make file you may 
%% uncomment one of the below:
%%
%% Standard print PDF. Compiled via pdflatex:
%\togglefalse{clearprint}\togglefalse{web}
%%
%% Clear print PDF. Compiled via pdflatex: 
%\toggletrue{clearprint}\togglefalse{web}
%%
%%Accessible web format. Requires TeX4ht - see 
%% make file for commands to run: 
%\togglefalse{clearprint}\toggletrue{web}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Are these a web or word version of beamer slides?
\ifdefstring{\beamerslides}{true}{\usepackage[notheorems,hyperref]{beamerarticle}}{}

%% Beamer with below settings already meets requirements
%% for clear and large print
\ifdefstring{\class}{beamer}{
\togglefalse{clearprint}
\togglefalse{large}
\usefonttheme{default}
\usefonttheme[onlymath]{serif}
\usepackage{beamerfix}
}{}

\iftoggle{large}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Note, you should have cm-super installed otherwise
%% computer modern fonts will be bitmaps. 
%% Or, load lmodern.
%% We cannot use lmodern with 14pt, 17pt or 20pt
%% as large symbols are incorrectly sized
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
}{\usepackage{lmodern}}

%% Graphicx must be loaded whether used or not as 
%% TeX4ht compilation expects it.
%% This is incompatible with some ways of making diagrams
\usepackage{graphicx}
%% Due to the processing requirements of graphics we have
%% set up a directory structure that must be used
\graphicspath{{./figures/latexpdfsvg/}{./figures/svg/}{./figures/eps/}{./figures/pdf/}{./figures/png/}{./figures/jpg/}{./figures/latexpdf/}} 

\ifboolexpr{togl {clearprint} or togl {web}}{
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %% Packages we rely on loaded
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \usepackage[a4paper,margin=2.5cm]{geometry}
 \usepackage{spverbatim}
 \usepackage{listings} 
 \lstloadlanguages{Matlab} %Other languages are available, see manual, you should select the correct language
 \lstset{
   basicstyle=\ttfamily, 
   breaklines=true, 
   columns=fixed 
  }
 \usepackage{amsmath,amssymb,amsfonts,amsthm}
 \usepackage{hyperref}
 %% This is our fix for displayoperators in web format
 \usepackage{displayoperators}
 \iftoggle{large}{\usepackage{lscape}}

 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %% Clear print set up
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %% Change font to Helvetica and heavier verbatim font
 \renewcommand{\familydefault}{phv}
 \fontfamily{phv}\selectfont
 \usepackage[scaled=0.95]{DejaVuSansMono}

 %% Emphasis in bold only - add additional examples 
 %% as per resource
 \renewcommand{\em}{\bf}
 \renewcommand{\textit}{\textbf}
 \renewcommand{\emph}{\textbf}
 \renewcommand{\it}{\bf }
 \renewcommand{\itshape}{}

 %% Additional spacing - may not be honoured in 
 %% web version
 \setlength{\parindent}{0.0pt}
 \setlength{\parskip}{1.0\baselineskip}
 \renewcommand{\baselinestretch}{1.25}\selectfont
 \mathsurround 0.2em
 \setlength{\arraycolsep}{0.5cm}\renewcommand{\arraystretch}{1.25}
 \addtolength{\jot}{0.5\baselineskip}
 \renewcommand{\;}{\,}
 \sloppy
 \allowdisplaybreaks
 \newtheoremstyle{plain}{20pt}{3pt}{}{}{\bfseries}{.\newline\nobreak}{1.0em\nobreak}{}
 \newtheoremstyle{definition}{20pt}{3pt}{}{}{\bfseries}{.\newline\nobreak}{1.0em\nobreak}{}
 \newtheoremstyle{remark}{20pt}{3pt}{}{}{\bfseries}{.\newline\nobreak}{1.0em\nobreak}{}
 \newenvironment{Proof}
  {\noindent{\bf Proof.}\hspace*{1em}}% Begin
  {\qed\par}% End
 %% When redefining an environment it is vital that it has 
 %% the same number of arguments as the original
 \renewenvironment{proof}[1][\proofname]
  {\trivlist\item\relax\noindent{\bf {#1}.}\hspace*{1em}}% Begin
  {\qed\endtrivlist}% End
 %% Do the least you can, this should preserve more of proof
 %%\let\oldproofname=\proofname
 %%\renewcommand{\proofname}{\rm\bf{\oldproofname}}

 \ifdefstring{\beamerslides}{true}{
  \newtheorem*{example}{Example}
  \newtheorem*{definition}{Definition}
  \newtheorem*{corollary}{Corollary}
  \newtheorem*{lemma}{Lemma}
  \newtheorem*{theorem}{Theorem}
  \newtheorem*{notes}{Note}
 }{}

 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %% Commands used to provide alternative text for 
 %% diagrams for a screenreader user.
 %% DO NOT remove the macros from the preamble even if
 %% you are not using them as the web compilation 
 %% expects them to be defined.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \newcommand{\nextalt}[1]{} 
 \newcommand{\PICalt}[1]{{#1}} 

 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %% Ensure front matter and table of contents are 
 %% page numbered separately from the body
 %% Use headings style so that each page has a label
 \pagestyle{headings}
 \pagenumbering{roman}
 \title{Please set a title for these notes or toggle frontmatter off if a title is inappropriate}
 \author{Please set an author for these notes or toggle frontmatter off if a title is inappropriate}
 \date{Please set a date for these notes or toggle frontmatter off if a title is inappropriate}
 \ifdefstring{\beamerslides}{true}{\date{}}{}
 \AfterEndPreamble{
  \iftoggle{frontmatter}{\maketitle\newpage}{}
  \iftoggle{contents}{\tableofcontents\listoffigures\listoftables\renewcommand{\tableofcontents}{}\renewcommand{\listoffigures}{}\renewcommand{\listoftables}{}\newpage}{}
  \pagenumbering{arabic}        
  \setcounter{page}{1}
 }
 \AtEndPreamble{
  \ifboolexpr{togl {clearprint} or togl {large}}{
   \pretocmd{\section}{\ifnum\value{section}=0 \else\clearpage\fi}{}{}
  }{}
  \iftoggle{web}{
    %% A mathjax bug is causing problems with \binom so we have to redefine it for now:
    \renewcommand{\dbinom}[2]{\textstyle\left(\begin{array}{c}{#1} \\ {#2}\end{array}\right)}
    \renewcommand{\binom}[2]{\left(\begin{array}{c}{#1} \\ {#2}\end{array}\right)}
    \renewcommand{\displaylimits}{}
  }{}
  \iftoggle{figures}{\usepackage{figurefix}}{}
  \iftoggle{web}{\usepackage{webfix}}{}
  \iftoggle{web}{\usepackage{xcolor}\usepackage{colorfix}}{}
  \iftoggle{clearprint}{\newcommand{\scalefactor}{1.1}}{}
  \iftoggle{large}{\renewcommand{\scalefactor}{1.4}}{}
  \ifboolexpr{togl {clearprint} or togl {large}}{\usepackage{fontfix}}{}
  \ifdefstring{\class}{beamer}{\usepackage{beamerfix}}{}
  \ifdefstring{\beamerslides}{true}{\usepackage{beamerfix}}{}
 }
 \iftoggle{web}{\usepackage{webprevent}}{}
 \iftoggle{large}{\usepackage{largeprevent}}{} 

 \ifdefstring{\beamerslides}{true}{
  \mode<article>{\setbeamertemplate{frametitle}{%
   \rule{\textwidth}{1pt}
   \par
   \section{\insertframetitle}
   }
  }
 }{}

}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Leave a blank line after this

%% DO NOT EDIT THIS FILE IF YOU DO NOT KNOW WHAT YOU ARE DOING

